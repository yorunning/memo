import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{o as e,c as n,e as s}from"./app-f0158c3c.js";const i={},d=s(`<h3 id="_1-禁用-reflector" tabindex="-1"><a class="header-anchor" href="#_1-禁用-reflector" aria-hidden="true">#</a> 1.禁用 reflector</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl stop reflector.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-确保是否为-uefi-mode" tabindex="-1"><a class="header-anchor" href="#_2-确保是否为-uefi-mode" aria-hidden="true">#</a> 2.确保是否为 UEFI mode</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ls</span> /sys/firmware/efi/efivars
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-连接网络-有线" tabindex="-1"><a class="header-anchor" href="#_3-连接网络-有线" aria-hidden="true">#</a> 3.连接网络（有线）</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ping</span> archlinux.org  <span class="token comment"># 测试网络连通性</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-更新系统时钟" tabindex="-1"><a class="header-anchor" href="#_4-更新系统时钟" aria-hidden="true">#</a> 4.更新系统时钟</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>timedatectl set-ntp <span class="token boolean">true</span>  <span class="token comment"># 将系统时间与网络时间进行同步</span>
timedatectl status        <span class="token comment"># 检查服务状态</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-分区" tabindex="-1"><a class="header-anchor" href="#_5-分区" aria-hidden="true">#</a> 5.分区</h3><p>将磁盘转换为 gpt 类型</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lsblk                     <span class="token comment"># 显示分区情况，找到你想安装的磁盘名称</span>
<span class="token function">parted</span> /dev/nvme0n1       <span class="token comment"># 执行parted，进入交互式命令行，进行磁盘类型变更</span>
<span class="token punctuation">(</span>parted<span class="token punctuation">)</span>mktable           <span class="token comment"># 输入mktable</span>
New disk label type? gpt  <span class="token comment"># 输入gpt，将磁盘类型转换为gpt，如磁盘有数据会警告，输入yes即可</span>
quit                      <span class="token comment"># 最后quit退出parted命令行交互</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>根据分区方案对磁盘分区</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cfdisk</span> /dev/nvme0n1  <span class="token comment"># 来执行分区操作，分配各个分区大小，类型</span>
<span class="token function">fdisk</span> <span class="token parameter variable">-l</span>             <span class="token comment"># 分区结束后，复查磁盘情况</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-格式化" tabindex="-1"><a class="header-anchor" href="#_6-格式化" aria-hidden="true">#</a> 6.格式化</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfs.ext4 /dev/nvme0n1px  <span class="token comment"># 格式化根目录和home目录的两个分区</span>
mkfs.vfat /dev/nvme0n1px  <span class="token comment"># 格式化efi分区</span>
<span class="token function">mkswap</span> /dev/nvme0n1px     <span class="token comment"># 格式化swap分区</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-挂载" tabindex="-1"><a class="header-anchor" href="#_7-挂载" aria-hidden="true">#</a> 7.挂载</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mount</span> /dev/nvme0n1px /mnt       <span class="token comment"># 挂载根目录</span>
<span class="token function">mkdir</span> /mnt/boot                 <span class="token comment"># 创建boot目录</span>
<span class="token function">mount</span> /dev/nvme0n1px /mnt/boot  <span class="token comment"># 挂载EFI分区</span>
<span class="token function">mkdir</span> /mnt/home                 <span class="token comment"># 创建home目录</span>
<span class="token function">mount</span> /dev/nvme0n1px /mnt/home  <span class="token comment"># 挂载home分区</span>
<span class="token function">swapon</span> /dev/nvme0n1px           <span class="token comment"># 挂载swap分区</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-配置镜像源" tabindex="-1"><a class="header-anchor" href="#_8-配置镜像源" aria-hidden="true">#</a> 8.配置镜像源</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/pacman.d/mirrorlist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch  # 中科大
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_9-安装系统" tabindex="-1"><a class="header-anchor" href="#_9-安装系统" aria-hidden="true">#</a> 9.安装系统</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pacstrap /mnt base linux linux-firmware  <span class="token comment"># 基础包</span>
pacstrap /mnt dhcpcd <span class="token function">vim</span> bash-completion  <span class="token comment"># 功能性包</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-生成-fstab-文件" tabindex="-1"><a class="header-anchor" href="#_10-生成-fstab-文件" aria-hidden="true">#</a> 10.生成 fstab 文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>genfstab <span class="token parameter variable">-U</span> /mnt <span class="token operator">&gt;&gt;</span> /mnt/etc/fstab  <span class="token comment"># 生成</span>
<span class="token function">cat</span> /mnt/etc/fstab                  <span class="token comment"># 复查</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-change-root" tabindex="-1"><a class="header-anchor" href="#_11-change-root" aria-hidden="true">#</a> 11.change root</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>arch-chroot /mnt  <span class="token comment"># 切换至新系统</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_12-时区设置" tabindex="-1"><a class="header-anchor" href="#_12-时区设置" aria-hidden="true">#</a> 12.时区设置</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ln</span> <span class="token parameter variable">-sf</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime  <span class="token comment"># 设置时区</span>
hwclock <span class="token parameter variable">--systohc</span>  <span class="token comment"># 硬件时间设置</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-设置-locale-进行本地化" tabindex="-1"><a class="header-anchor" href="#_13-设置-locale-进行本地化" aria-hidden="true">#</a> 13.设置 Locale 进行本地化</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/locale.gen  <span class="token comment"># 去掉en_US.UTF-8和zh_CN.UTF-8所在行的注释</span>
locale-gen           <span class="token comment"># 生成locale</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;LANG=en_US.UTF-8&#39;</span>  <span class="token operator">&gt;</span> /etc/locale.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-设置主机名" tabindex="-1"><a class="header-anchor" href="#_14-设置主机名" aria-hidden="true">#</a> 14.设置主机名</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/hostname  <span class="token comment"># yorun-PC</span>
<span class="token function">vim</span> /etc/hosts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>127.0.0.1  localhost
::1        localhost
127.0.1.1  yorun-PC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-为-root-用户设置密码" tabindex="-1"><a class="header-anchor" href="#_15-为-root-用户设置密码" aria-hidden="true">#</a> 15.为 root 用户设置密码</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">passwd</span> root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_16-安装微码" tabindex="-1"><a class="header-anchor" href="#_16-安装微码" aria-hidden="true">#</a> 16.安装微码</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pacman <span class="token parameter variable">-S</span> amd-ucode  <span class="token comment"># AMD</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_17-安装引导程序" tabindex="-1"><a class="header-anchor" href="#_17-安装引导程序" aria-hidden="true">#</a> 17.安装引导程序</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pacman <span class="token parameter variable">-S</span> refind
refind-install
blkid                        <span class="token comment"># 查看UUID</span>
<span class="token function">vim</span> /boot/refind-linux.conf  <span class="token comment"># 填写UUID</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_18-完成安装" tabindex="-1"><a class="header-anchor" href="#_18-完成安装" aria-hidden="true">#</a> 18.完成安装</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">exit</span>            <span class="token comment"># 退回安装环境</span>
<span class="token function">umount</span> <span class="token parameter variable">-R</span> /mnt  <span class="token comment"># 卸载新分区</span>
<span class="token function">reboot</span>          <span class="token comment"># 重启</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl start dhcpcd  <span class="token comment"># 立即启动dhcp</span>
<span class="token function">ping</span> archlinux.org      <span class="token comment"># 测试网络连接</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,42),l=[d];function c(t,r){return e(),n("div",null,l)}const p=a(i,[["render",c],["__file","basic-installation.html.vue"]]);export{p as default};
